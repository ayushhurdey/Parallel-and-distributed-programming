```py
'''
'''

```

```
/* Consider the following code for enqueueing a continuation on a future.
 * a. (1.5 p) Identify and fix the concurrency issue(s).
 * b. (2 p) Add a function that waits for the completion of the future and retuns the value.
 */
 
template<typename T>
class Future {
  list<function<void(T)>> continuations;
  T val;
  bool hasValue;
public:
  Future() :hasValue(false {}
  void set(T v) {
    val = v;
    hasValue = true;
    for(function<void(T)>& f : continuations) {
      f(v);
    }
    continuations.clear();
  }
  void addContinuation(function<void(T)> f) {
    if(hasValue) {
      f(val);
    } else {
      continuations.push_back(f):
    }
  }
};
```

```
'''
'''
```
